#!/usr/bin/env php

<?php

use function Feed\Creator\createFeed;

$autoloadPath1 = __DIR__ . '/../../../autoload.php';
$autoloadPath2 = __DIR__ . '/../vendor/autoload.php';
if (file_exists($autoloadPath1)) {
    require_once $autoloadPath1;
} else {
    require_once $autoloadPath2;
}


$doc = <<<'DOC'
Generate xml file feed from input xlsx file type. 
XML feed structure made for Realty.Yandex. Just put in Excel file your data and you ready to go.

Usage:
  xmlfeed (-h|--help)
  xmlfeed <pathToInputFile> [<pathToOutputFile>]

Options:
  -h --help                     Show this screen
DOC;

$args = Docopt::handle($doc);


if (empty($args["<pathToOutputFile>"])) {
    createFeed($args["<pathToInputFile>"]);
} else {
    createFeed($args["<pathToInputFile>"], $args["<pathToOutputFile>"]);
}
